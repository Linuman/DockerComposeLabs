{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-_,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Docker Compose Labs Overview","text":"<p>Welcome to the Docker Compose Labs! This comprehensive collection of hands-on labs will guide you through mastering Docker Compose, from basic concepts to advanced production-ready configurations.</p>"},{"location":"#available-labs","title":"\ud83d\udcda Available Labs","text":""},{"location":"#001-introduction","title":"001 - Introduction","text":"<p>Introduction to Docker Compose</p> <p>This lab provides a comprehensive introduction to Docker Compose, a tool for defining and running multi-container Docker applications. You\u2019ll learn the fundamentals of Docker Compose and how to set it up on different operating systems.</p> <p>What You\u2019ll Learn: - What Docker Compose is and its benefits - How to install Docker Compose on different platforms - Basic concepts of multi-container orchestration</p>"},{"location":"#002-compose-demo","title":"002 - Compose Demo","text":"<p>Multi-Container Application Demo</p> <p>This lab demonstrates a practical Docker Compose example with a multi-container application. You\u2019ll explore a complete <code>docker-compose-sample.yml</code> file that defines three interconnected services: a web server, an application, and a database.</p> <p>What You\u2019ll Learn: - Basic docker-compose.yml file structure - Multi-service application configuration - Web server, application, and database integration</p>"},{"location":"#002-structure","title":"002 - Structure","text":"<p>Complete Docker Compose Structure Guide</p> <p>This comprehensive lab covers the complete structure and syntax of Docker Compose files. You\u2019ll learn about all the major configuration options, from basic service definitions to advanced features like health checks, networks, and volumes.</p> <p>What You\u2019ll Learn: - Detailed docker-compose.yml structure - Common service configurations - Best practices for service definition</p>"},{"location":"#003-commands","title":"003 - Commands","text":"<p>Essential Docker Compose CLI Reference</p> <p>This lab provides a comprehensive guide to Docker Compose command-line interface. You\u2019ll master all the essential commands needed to manage multi-container applications effectively, from basic startup and shutdown to advanced debugging and maintenance operations.</p> <p>What You\u2019ll Learn: - Essential Docker Compose commands - Managing application lifecycle - Debugging and troubleshooting</p>"},{"location":"#004-compose-to-helm","title":"004 - Compose to Helm","text":"<p>Creating and Using Helm Charts</p> <p>Helm is a powerful package manager for Kubernetes that simplifies the deployment and management of applications. This lab will walk you through the process of creating and using a Helm chart, converting Docker Compose configurations to Kubernetes deployments.</p> <p>What You\u2019ll Learn: - Converting Docker Compose to Helm charts - Kubernetes deployment strategies - Migration from development to production</p>"},{"location":"#005-compose-advanced","title":"005 - Compose Advanced","text":"<p>Advanced Docker Compose Configuration</p> <p>This lab demonstrates advanced Docker Compose features including the <code>extends</code> functionality, YAML anchors, and modular service definitions for a complete monitoring stack with Grafana, Loki, Prometheus, and more.</p> <p>What You\u2019ll Learn: - Advanced Docker Compose features - Complex service configurations - Production-ready setups with monitoring</p>"},{"location":"#006-watch","title":"006 - Watch","text":"<p>Docker Compose Watch Feature</p> <p>Docker Compose Watch is a powerful tool for monitoring changes in your Docker Compose setup and automatically rebuilding or restarting services when changes are detected. This lab demonstrates how to implement and use Docker Compose Watch for streamlined development workflows.</p> <p>What You\u2019ll Learn: - Docker Compose Watch feature - Live reload and development workflows - File synchronization and hot reloading</p>"},{"location":"#007-networks","title":"007 - Networks","text":"<p>Multi-Network Architecture</p> <p>This lab showcases a production-like microservices architecture with proper network segmentation, security boundaries, and service isolation. The example includes 8 different networks, each serving specific purposes and demonstrating various networking patterns used in enterprise applications.</p> <p>What You\u2019ll Learn: - Advanced multi-network architecture - Network segmentation and security - Service discovery and isolation patterns - DMZ and monitoring network configurations</p>"},{"location":"#getting-started","title":"\ud83d\ude80 Getting Started","text":"<p>Each lab is self-contained and includes:</p> <ul> <li>Detailed step-by-step instructions</li> <li>Complete code examples</li> <li>Best practices and tips</li> <li>Hands-on exercises</li> </ul> <p>Start with Lab 001 if you\u2019re new to Docker Compose, or jump to any specific topic that interests you!</p>"},{"location":"#additional-resources","title":"\ud83d\udcd6 Additional Resources","text":"<ul> <li>Docker Compose Documentation</li> <li>Docker Hub</li> <li>Kubernetes Documentation</li> </ul> <p>Happy Learning! \ud83d\udc33</p>"},{"location":"welcome/","title":"Start Here","text":""},{"location":"welcome/#docker-compose-hands-on-repository","title":"Docker Compose Hands-on Repository","text":"<ul> <li>A collection of Hands-on Docker Compose labs.</li> <li>Each lab is a standalone lab and does not require to complete the previous labs.</li> </ul>"},{"location":"welcome/#pre-requirements","title":"Pre-Requirements","text":"<ul> <li>Docker installation</li> <li>Docker Compose (included with Docker Desktop)</li> </ul>"},{"location":"welcome/#ctrl-click-to-open-in-new-window","title":"CTRL + click to open in new window","text":""},{"location":"welcome/#preface","title":"Preface","text":"<ul> <li>Docker Compose is a tool for defining and running multi-container Docker applications</li> <li>With Compose, you use a YAML file to configure your application\u2019s services</li> <li>Then, with a single command, you create and start all the services from your configuration</li> <li>Docker Compose simplifies the development, testing, and deployment of complex applications</li> </ul>"},{"location":"welcome/#docker-compose-overview","title":"Docker Compose Overview","text":"<ul> <li>Docker Compose allows you to <code>define multiple services</code> in a single YAML file.</li> <li>Services can be <code>linked together</code> through networks and dependencies.</li> <li>Compose manages the <code>entire application lifecycle</code>.</li> </ul>"},{"location":"welcome/#key-benefits","title":"Key Benefits","text":"<ul> <li>Simplified Multi-Container Management: Define and run multiple containers with a single command</li> <li>Environment Consistency: Ensure the same environment across development, testing, and production</li> <li>Service Dependencies: Control the startup order and dependencies between services</li> <li>Network Isolation: Create isolated networks for your application components</li> <li>Volume Management: Persist data and share files between containers and the host</li> </ul>"},{"location":"welcome/#docker-compose-file-structure","title":"Docker Compose File Structure","text":"<ul> <li>A <code>docker-compose.yml</code> file defines your application\u2019s services, networks, and volumes</li> <li>Services: Define the containers that make up your application</li> <li>Networks: Create custom networks for service communication</li> <li>Volumes: Manage data persistence and sharing</li> </ul>"},{"location":"welcome/#core-concepts","title":"Core Concepts","text":""},{"location":"welcome/#version","title":"<code>version</code>","text":"<ul> <li>Specifies the Compose file format version</li> <li>Different versions support different features</li> <li>Latest version provides the most features and compatibility</li> </ul>"},{"location":"welcome/#services","title":"<code>services</code>","text":"<ul> <li>The main section where you define your application containers</li> <li>Each service represents a single container</li> <li>Services can be built from Dockerfiles or use existing images</li> </ul>"},{"location":"welcome/#networks","title":"<code>networks</code>","text":"<ul> <li>Define custom networks for service communication</li> <li>Services on the same network can communicate using service names</li> <li>Provides isolation between different application components</li> </ul>"},{"location":"welcome/#volumes","title":"<code>volumes</code>","text":"<ul> <li>Define named volumes for data persistence</li> <li>Share data between containers</li> <li>Persist data beyond container lifecycle</li> </ul>"},{"location":"welcome/#lab-structure","title":"Lab Structure","text":"<p>The repository contains the following hands-on labs:</p>"},{"location":"welcome/#001-intro","title":"001-intro","text":"<ul> <li>Introduction to Docker Compose</li> <li>Installation and basic concepts</li> <li>Understanding the benefits of multi-container orchestration</li> </ul>"},{"location":"welcome/#002-compose-demo","title":"002-Compose-Demo","text":"<ul> <li>Basic docker-compose.yml file structure</li> <li>Multi-service application example</li> <li>Web server, application, and database integration</li> </ul>"},{"location":"welcome/#002-structure","title":"002-Structure","text":"<ul> <li>Detailed docker-compose.yml structure</li> <li>Common service configurations</li> <li>Best practices for service definition</li> </ul>"},{"location":"welcome/#003-commands","title":"003-Commands","text":"<ul> <li>Essential Docker Compose commands</li> <li>Managing application lifecycle</li> <li>Debugging and troubleshooting</li> </ul>"},{"location":"welcome/#004-compose-2helm","title":"004-Compose-2Helm","text":"<ul> <li>Converting Docker Compose to Helm charts</li> <li>Kubernetes deployment strategies</li> <li>Migration from development to production</li> </ul>"},{"location":"welcome/#005-compose-advanced","title":"005-Compose-Advanced","text":"<ul> <li>Advanced Docker Compose features</li> <li>Complex service configurations</li> <li>Production-ready setups</li> </ul>"},{"location":"welcome/#006-watch","title":"006-Watch","text":"<ul> <li>Docker Compose Watch feature</li> <li>Live reload and development workflows</li> <li>File synchronization and hot reloading</li> </ul>"},{"location":"welcome/#007-networks","title":"007-Networks","text":"<ul> <li>Advanced multi-network architecture</li> <li>Network segmentation and security</li> <li>Service discovery and isolation patterns</li> <li>DMZ and monitoring network configurations</li> </ul>"},{"location":"welcome/#getting-started","title":"Getting Started","text":"<ol> <li>Clone the repository</li> </ol> <pre><code>git clone https://github.com/nirgeier/DockerComposeLabs.git\ncd DockerComposeLabs\n</code></pre> <ol> <li>Verify Docker Compose installation</li> </ol> <pre><code>docker-compose --version\n# or\ndocker compose version\n</code></pre> <ol> <li>Navigate to any lab directory</li> </ol> <pre><code>cd Labs/001-intro\n</code></pre> <ol> <li>Follow the lab instructions</li> <li>Each lab contains detailed README files</li> <li>Step-by-step instructions are provided</li> <li>Code examples and explanations included</li> </ol>"},{"location":"welcome/#common-docker-compose-commands","title":"Common Docker Compose Commands","text":"<ul> <li><code>docker-compose up</code>: Create and start containers</li> <li><code>docker-compose up -d</code>: Start containers in detached mode</li> <li><code>docker-compose down</code>: Stop and remove containers</li> <li><code>docker-compose ps</code>: List running containers</li> <li><code>docker-compose logs</code>: View container logs</li> <li><code>docker-compose exec</code>: Execute commands in running containers</li> <li><code>docker-compose build</code>: Build or rebuild services</li> </ul>"},{"location":"welcome/#resources","title":"Resources","text":"<p>The <code>resources</code> directory contains:</p> <ul> <li>Configuration files for various services</li> <li>Sample YAML files for different scenarios</li> <li>Supporting materials and documentation</li> <li>Server application examples</li> </ul>"},{"location":"welcome/#additional-features","title":"Additional Features","text":""},{"location":"welcome/#docker-compose-watch","title":"Docker Compose Watch","text":"<ul> <li>Automatic file synchronization</li> <li>Live reload capabilities</li> <li>Enhanced development experience</li> <li>Real-time updates without rebuilding</li> </ul>"},{"location":"welcome/#service-orchestration","title":"Service Orchestration","text":"<ul> <li>Health checks and dependency management</li> <li>Scaling services up or down</li> <li>Load balancing and service discovery</li> <li>Rolling updates and zero-downtime deployments</li> </ul>"},{"location":"welcome/#production-considerations","title":"Production Considerations","text":"<ul> <li>Security best practices</li> <li>Performance optimization</li> <li>Monitoring and logging</li> <li>Backup and recovery strategies</li> </ul>"},{"location":"welcome/#support","title":"Support","text":"<ul> <li>Each lab is self-contained with detailed explanations</li> <li>Common issues and solutions are documented</li> <li>Best practices and tips are included throughout</li> <li>Real-world examples and use cases provided</li> </ul> <p>Happy Learning! \ud83d\udc33</p>"},{"location":"001-intro/","title":"001 Introduction","text":""},{"location":"001-intro/#ctrl-click-to-open-in-new-window","title":"CTRL + click to open in new window","text":""},{"location":"001-intro/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Docker Compose Introduction</li> <li>Description</li> <li>Prerequisites</li> <li>What You\u2019ll Learn</li> <li>Key Concepts Covered</li> <li>Installation Methods</li> <li>Quick Start</li> <li>1. What is Docker Compose?</li> <li>2. Installing Docker Compose<ul> <li>2.1. Docker-Desktop for Windows and macOS</li> <li>2.2. Linux</li> <li>2.3. Install on MacOS using Homebrew</li> </ul> </li> </ul>"},{"location":"001-intro/#docker-compose-introduction","title":"Docker Compose Introduction","text":""},{"location":"001-intro/#description","title":"Description","text":"<ul> <li>This lab provides a comprehensive introduction to Docker Compose, a tool for defining and running multi-container Docker applications.</li> <li>You\u2019ll learn the fundamentals of Docker Compose and how to set it up on different operating systems.</li> </ul>"},{"location":"001-intro/#prerequisites","title":"Prerequisites","text":"<ul> <li>Basic understanding of Docker concepts</li> <li>Docker installed on your system</li> </ul>"},{"location":"001-intro/#what-youll-learn","title":"What You\u2019ll Learn","text":"<ul> <li>What Docker Compose is and its benefits</li> <li>How to install Docker Compose on different platforms</li> <li>Basic concepts of multi-container orchestration</li> </ul>"},{"location":"001-intro/#key-concepts-covered","title":"Key Concepts Covered","text":"<ul> <li>Multi-container Applications: Understanding how Docker Compose simplifies managing multiple containers</li> <li>YAML Configuration: Introduction to the docker-compose.yml file structure</li> <li>Service Orchestration: How containers work together in a composed application</li> <li>Development Workflow: Using Docker Compose for local development environments</li> </ul>"},{"location":"001-intro/#installation-methods","title":"Installation Methods","text":"<ol> <li>Docker Desktop (Windows/macOS): Included by default</li> <li>Linux Package Managers: Using apt-get or yum</li> <li>Manual Installation: Downloading from GitHub releases</li> <li>Homebrew (macOS): Using the brew package manager</li> </ol>"},{"location":"001-intro/#quick-start","title":"Quick Start","text":"<p>After completing this lab, you\u2019ll be ready to:</p> <ul> <li>Create your first docker-compose.yml file</li> <li>Understand service definitions</li> <li>Manage multi-container applications</li> <li>Move on to more advanced Docker Compose features</li> </ul>"},{"location":"001-intro/#1-what-is-docker-compose","title":"1. What is Docker Compose?","text":"<ul> <li>Docker Compose is a  tool for defining and :running: running multi-container <code>Docker</code> applications.</li> <li>With <code>Docker Compose</code>, you use a <code>YAML</code> file to configure your application\u2019s services.</li> <li>Then, with a simple command(s), you create and start all the services from your configuration.</li> <li>This greatly simplifies the development, testing, and deployment of complex applications.</li> <li>It allows you to define the services, networks, and volumes your application needs in a single file (<code>docker-compose.yml</code>), making it easy to manage and share your application setup.</li> <li>Docker Compose is particularly useful for local development, <code>CI/CD pipelines</code>, and orchestrating multi-container applications.</li> </ul>"},{"location":"001-intro/#2-installing-docker-compose","title":"2. Installing Docker Compose","text":""},{"location":"001-intro/#21-docker-desktop-for-windows-and-macos","title":"2.1. Docker-Desktop for Windows and macOS","text":"<ul> <li>If you are using Docker Desktop for Windows or macOS, Docker Compose is included by default.</li> </ul>"},{"location":"001-intro/#22-linux","title":"2.2. Linux","text":"<ul> <li>If you are using Linux, you might need to install it separately.</li> <li>Please refer to the official Docker documentation for installation instructions: https://docs.docker.com/compose/install/</li> <li>You can install it using the official Docker Compose package for your Linux distribution.</li> <li>For example, on Ubuntu, you can run:</li> </ul> <pre><code># Install Docker Compose using apt-get\nsudo apt-get install docker-compose\n</code></pre> <ul> <li>Or, if you prefer to install it manually, you can download the binary from the official GitHub repository:</li> </ul> <pre><code># Install from GitHub repository and move it to /usr/local/bin\nsudo curl -L \"https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose\nsudo chmod +x /usr/local/bin/docker-compose\n</code></pre> <ul> <li> <p>Verify your installation by running:</p> <pre><code># Verify Docker Compose installation\ndocker compose version\n\n# For older versions\ndocker-compose --version\n\n# Or if using macos and installing using brew\nbrew info docker-compose\n\n### Output\nIsolated development environments using Docker\nhttps://docs.docker.com/compose/\nInstalled\n/opt/homebrew/Cellar/docker-compose/2.36.0 (8 files, 59.7MB) *\nPoured from bottle using the formulae.brew.sh API on 2025-05-08 at 11:23:08\nFrom: https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/d/docker-compose.rb\nLicense: Apache-2.0\n==&gt; Dependencies\nBuild: go \u2718\n==&gt; Options\n--HEAD\nInstall HEAD version\n==&gt; Caveats\nCompose is a Docker plugin. For Docker to find the plugin, add \"cliPluginsExtraDirs\" to ~/.docker/config.json:\n\"cliPluginsExtraDirs\": [\n    \"/opt/homebrew/lib/docker/cli-plugins\"\n]\n==&gt; Analytics\ninstall-on-request: 28,379 (30 days), 85,181 (90 days), 325,794 (365 days)\nbuild-error: 65 (30 days)\n</code></pre> </li> </ul>"},{"location":"001-intro/#23-install-on-macos-using-homebrew","title":"2.3. Install on MacOS using Homebrew","text":"<ul> <li>If you are using macOS, you can install Docker Compose using Homebrew:</li> </ul> <pre><code># Install Docker Compose using Homebrew\nbrew install docker-compose\n\n# After installation, you can verify it by running:\n\n# Verify Docker Compose installation\ndocker compose version  \n</code></pre>"},{"location":"001-intro/#navigation","title":"Navigation","text":"<p>Next: 002-Compose-Demo \u2192</p>"},{"location":"002-Compose-Demo/","title":"002 Compose Demo","text":""},{"location":"002-Compose-Demo/#ctrl-click-to-open-in-new-window","title":"CTRL + click to open in new window","text":""},{"location":"002-Compose-Demo/#docker-compose-demo-multi-container-application","title":"Docker Compose Demo - Multi-Container Application","text":""},{"location":"002-Compose-Demo/#description","title":"Description","text":"<p>This lab demonstrates a practical Docker Compose example with a multi-container application. You\u2019ll explore a complete <code>docker-compose-sample.yml</code> file that defines three interconnected services: a web server, an application, and a database.</p>"},{"location":"002-Compose-Demo/#prerequisites","title":"Prerequisites","text":"<ul> <li>Docker and Docker Compose installed</li> <li>Basic understanding of Docker concepts</li> <li>Completion of the previous lab (001-intro)</li> </ul>"},{"location":"002-Compose-Demo/#lab-overview","title":"Lab Overview","text":"<p>This <code>docker-compose-sample.yml</code> file defines a multi-container application with three services: <code>web</code>, <code>app</code>, and <code>db</code>. Below is a detailed explanation of each section:</p>"},{"location":"002-Compose-Demo/#services","title":"Services","text":""},{"location":"002-Compose-Demo/#1-web-service","title":"1. <code>web</code> Service","text":"<ul> <li>Image: Uses the official <code>nginx:latest</code> image.</li> <li>Container Name: The container is named <code>web-container</code>.</li> <li>Ports: Maps port <code>8080</code> on the host to port <code>80</code> in the container.</li> <li>Environment Variables:</li> <li><code>NGINX_HOST</code>: Set to <code>localhost</code>.</li> <li><code>NGINX_PORT</code>: Set to <code>80</code>.</li> <li>Volumes: Mounts the <code>./web-data</code> directory on the host to <code>/usr/share/nginx/html</code> in the container, allowing you to serve custom static files.</li> <li>Networks: Connects to the <code>webnet</code> network.</li> <li>Restart Policy: Always restarts the container if it stops.</li> </ul>"},{"location":"002-Compose-Demo/#2-app-service","title":"2. <code>app</code> Service","text":"<ul> <li>Build: Builds the image from a Dockerfile located in the <code>./app</code> directory.</li> <li>Container Name: The container is named <code>app-container</code>.</li> <li>Ports: Maps port <code>3000</code> on the host to port <code>3000</code> in the container.</li> <li>Environment Variables:</li> <li><code>NODE_ENV</code>: Set to <code>production</code>.</li> <li>Dependencies: Depends on the <code>db</code> service, ensuring the database starts before the app.</li> <li>Networks: Connects to both <code>webnet</code> and <code>dbnet</code> networks.</li> <li>Restart Policy: Restarts the container on failure.</li> </ul>"},{"location":"002-Compose-Demo/#3-db-service","title":"3. <code>db</code> Service","text":"<ul> <li>Image: Uses the official <code>postgres:latest</code> image.</li> <li>Container Name: The container is named <code>db-container</code>.</li> <li>Environment Variables:</li> <li><code>POSTGRES_USER</code>: Set to <code>user</code>.</li> <li><code>POSTGRES_PASSWORD</code>: Set to <code>password</code>.</li> <li><code>POSTGRES_DB</code>: Set to <code>mydb</code>.</li> <li>Volumes: Mounts a named volume <code>db-data</code> to <code>/var/lib/postgresql/data</code> in the container, persisting database data.</li> <li>Networks: Connects to the <code>dbnet</code> network.</li> <li>Restart Policy: Restarts the container unless stopped manually.</li> </ul>"},{"location":"002-Compose-Demo/#volumes","title":"Volumes","text":"<ul> <li><code>db-data</code>: A named volume used by the <code>db</code> service to persist PostgreSQL data.</li> </ul>"},{"location":"002-Compose-Demo/#networks","title":"Networks","text":"<ul> <li><code>webnet</code>: A custom network used by the <code>web</code> and <code>app</code> services to communicate.</li> <li><code>dbnet</code>: A custom network used by the <code>app</code> and <code>db</code> services to communicate.</li> </ul> <p>This Compose file demonstrates how to define services, manage dependencies, and configure networks and volumes for a multi-container application.</p>"},{"location":"002-Compose-Demo/#lab-exercises","title":"Lab Exercises","text":"<ol> <li>Examine the Sample File: Review the <code>docker-compose-sample.yml</code> file to understand the service definitions</li> <li>Analyze Service Dependencies: Study how the <code>app</code> service depends on the <code>db</code> service</li> <li>Understand Networking: See how services communicate through custom networks</li> <li>Review Volume Management: Learn how data persistence is handled with named volumes</li> </ol>"},{"location":"002-Compose-Demo/#key-learning-points","title":"Key Learning Points","text":"<ul> <li>Multi-service Architecture: How to structure applications with multiple containers</li> <li>Service Dependencies: Using <code>depends_on</code> to control startup order</li> <li>Network Isolation: Creating separate networks for different tiers</li> <li>Data Persistence: Using volumes to maintain database state</li> <li>Port Mapping: Exposing services to the host system</li> </ul>"},{"location":"002-Compose-Demo/#next-steps","title":"Next Steps","text":"<p>After completing this lab, you\u2019ll understand:</p> <ul> <li>How to structure a real-world multi-container application</li> <li>The relationship between web servers, applications, and databases</li> <li>Best practices for service configuration in Docker Compose</li> </ul>"},{"location":"002-Compose-Demo/#navigation","title":"Navigation","text":"<p>\u2190 Previous: 001-intro | Next: 002-Structure \u2192</p>"},{"location":"002-Structure/","title":"002 Structure","text":""},{"location":"002-Structure/#ctrl-click-to-open-in-new-window","title":"CTRL + click to open in new window","text":""},{"location":"002-Structure/#docker-compose-structure-complete-guide","title":"Docker Compose Structure - Complete Guide","text":""},{"location":"002-Structure/#description","title":"Description","text":"<p>This comprehensive lab covers the complete structure and syntax of Docker Compose files. You\u2019ll learn about all the major configuration options, from basic service definitions to advanced features like health checks, networks, and volumes.</p>"},{"location":"002-Structure/#prerequisites","title":"Prerequisites","text":"<ul> <li>Completion of previous labs (001-intro, 002-Compose-Demo)</li> <li>Basic understanding of Docker concepts</li> <li>Familiarity with YAML syntax</li> </ul>"},{"location":"002-Structure/#lab-overview","title":"Lab Overview","text":"<p>This comprehensive guide covers the complete structure and anatomy of Docker Compose files. You\u2019ll master every aspect from basic service definitions to advanced production-ready configurations.</p>"},{"location":"002-Structure/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Docker Compose Structure - Complete Guide</li> <li>Description</li> <li>Prerequisites</li> <li>Lab Overview</li> <li>Table of Contents<ul> <li>Example of a <code>docker-compose.yml</code> file structure</li> </ul> </li> <li>Common Docker Compose Service Features</li> <li>Feature Details<ul> <li><code>version</code></li> <li><code>services</code></li> <li><code>build</code> (Building an Image)</li> <li><code>image</code> (Using an Existing Image)</li> <li><code>command</code> and <code>entrypoint</code></li> <li><code>ports</code> (Port Mapping)</li> <li><code>volumes</code> (Volume Management)</li> <li><code>environment</code> (Environment Variables)</li> <li><code>depends_on</code> (Service Dependencies)</li> <li><code>networks</code> (Defining Networks)</li> </ul> </li> </ul>"},{"location":"002-Structure/#example-of-a-docker-composeyml-file-structure","title":"Example of a <code>docker-compose.yml</code> file structure","text":"<ul> <li>Here is a simple example of a <code>docker-compose.yml</code> file structure:</li> </ul> <pre><code>version: '3.8' # Compose file format version\n\nservices:\n  # Here we define our services (containers)\n  myservice:\n    # configurations for myservice\n\n  another_service:\n    # configurations for another_service\n\nvolumes:\n  # Global volume definitions (if any)\n\nnetworks:\n  # Global network definitions (if any)\n</code></pre>"},{"location":"002-Structure/#common-docker-compose-service-features","title":"Common Docker Compose Service Features","text":"<p>Now, let\u2019s detail the most common features you can use within each service definition:</p> Feature Description <code>build</code> Specifies the build context or Dockerfile for creating container images. <code>command</code> Overrides the default command defined in the image. <code>configs</code> Defines configuration files for services. Configs let services to adapt their behavior without the need to rebuild a Docker image. <code>container_name</code> Assigns a custom name to the container. <code>depends_on</code> Defines service dependencies, controlling startup order. <code>entrypoint</code> Overrides the default entry point defined in the image. <code>environment</code> Sets environment variables for services. <code>healthcheck</code> Defines commands to check the health of a service. <code>image</code> Specifies an existing Docker image to use. <code>links</code> (Legacy) Links services; replaced by <code>networks</code>. <code>networks</code> Defines custom networks for your containers. <code>ports</code> Maps container ports to host machine ports. <code>restart</code> Configures restart policies for containers (e.g., <code>always</code>, <code>on-failure</code>). <code>secrets</code> Defines secrets for sensitive data (e.g., passwords, API keys). <code>version</code> Specifies the Compose file format version. <code>volumes</code> Defines volumes used for persistent data storage. <code>x-&lt;feature_name&gt;</code> Custom extension fields for reusable configurations."},{"location":"002-Structure/#feature-details","title":"Feature Details","text":""},{"location":"002-Structure/#version","title":"<code>version</code>","text":"<ul> <li>Purpose: Specifies the Compose file format version. Each version has specific features and rules. It\u2019s recommended to use recent 3.x versions.</li> <li> <p>Example:</p> <pre><code>version: '3.8'\n</code></pre> </li> </ul>"},{"location":"002-Structure/#services","title":"<code>services</code>","text":"<ul> <li>Purpose: The top-level key that defines all the different containers that make up your application. Each key under <code>services</code> is your service name.</li> <li> <p>Example:</p> <pre><code>services:\n  web:\n    # configurations for the web service\n  db:\n    # configurations for the db service\n</code></pre> </li> </ul>"},{"location":"002-Structure/#build-building-an-image","title":"<code>build</code> (Building an Image)","text":"<ul> <li>Purpose: Instead of using an existing image, <code>build</code> instructs Compose to build a new image from a <code>Dockerfile</code> located at the specified path.</li> <li>Options:</li> <li><code>context</code>: The path to the directory containing the <code>Dockerfile</code> and other files needed for the build.</li> <li><code>dockerfile</code> (optional): The name of the Dockerfile if it\u2019s not <code>Dockerfile</code> (e.g., <code>Dockerfile.dev</code>).</li> <li><code>args</code> (optional): Build arguments that will be passed to the <code>Dockerfile</code> during the build process (like <code>ARG</code>).</li> <li><code>target</code> (optional): A specific build stage to target from a multi-stage <code>Dockerfile</code>.</li> <li> <p>Example:</p> <pre><code>services:\n  webapp:\n    build:\n      context: ./my_app # Builds an image from the 'my_app' directory (where Dockerfile resides)\n      dockerfile: Dockerfile.dev # Uses Dockerfile.dev file\n      args:\n        NODE_VERSION: \"18\"\n    ports:\n      - \"80:80\"\n</code></pre> </li> </ul>"},{"location":"002-Structure/#image-using-an-existing-image","title":"<code>image</code> (Using an Existing Image)","text":"<ul> <li>Purpose: Instructs Compose to pull and use an existing Docker image from a registry like Docker Hub.</li> <li> <p>Example:</p> <pre><code>services:\n  database:\n    image: postgres:15 # Uses the Postgres image at version 15\n    environment:\n      POSTGRES_DB: mydatabase\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n</code></pre> </li> </ul>"},{"location":"002-Structure/#command-and-entrypoint","title":"<code>command</code> and <code>entrypoint</code>","text":"<ul> <li><code>command</code>:</li> <li>Purpose: Defines the command that will be executed when the container starts. This command overrides the <code>CMD</code> defined in the image\u2019s <code>Dockerfile</code>.</li> <li> <p>Example:</p> <pre><code>```yaml\nservices:\n  worker:\n    image: my_worker_image\n    command: [\"python\", \"worker.py\", \"--queue\", \"high\"] # Executes a Python script with arguments\n```\n</code></pre> </li> <li> <p><code>entrypoint</code>:</p> </li> <li>Purpose: Defines the entry point for the container. The <code>command</code> (or <code>CMD</code> from the <code>Dockerfile</code>) will be passed as an argument to the <code>entrypoint</code>. This overrides the <code>ENTRYPOINT</code> defined in the <code>Dockerfile</code>.</li> <li>Example:<pre><code>```yaml\nservices:\n  script_runner:\n    image: ubuntu\n    entrypoint: [\"bash\", \"-c\"] # Entry point will be running bash\n    command: [\"echo Hello from Docker Compose!\"] # The command will be passed as an argument to bash -c\n```\n</code></pre> </li> </ul>"},{"location":"002-Structure/#ports-port-mapping","title":"<code>ports</code> (Port Mapping)","text":"<ul> <li>Purpose: Maps ports from the container to ports on the host machine, allowing access to the service from outside the container.</li> <li>Formats:</li> <li><code>\"HOST_PORT:CONTAINER_PORT\"</code>: Maps a specific port.</li> <li><code>\"CONTAINER_PORT\"</code>: A random available host port will be mapped to <code>CONTAINER_PORT</code>.</li> <li> <p>Example:</p> <pre><code>services:\n  web:\n    image: nginx:latest\n    ports:\n      - \"80:80\"     # Host port 80 maps to container port 80\n      - \"443:443\"   # Host port 443 maps to container port 443\n      - \"8080\"      # Container port 8080 maps to a random host port\n</code></pre> </li> </ul>"},{"location":"002-Structure/#volumes-volume-management","title":"<code>volumes</code> (Volume Management)","text":"<ul> <li>Purpose: Allows for persistent data storage, ensuring data remains even if the container is recreated or removed. You can map files/directories from the host machine into the container (bind mounts) or use Docker-managed volumes (named volumes).</li> <li>Formats:</li> <li><code>\"HOST_PATH:CONTAINER_PATH\"</code>: Bind mount.</li> <li><code>\"VOLUME_NAME:CONTAINER_PATH\"</code>: Named volume.</li> <li> <p>Example:</p> <pre><code>services:\n  db:\n    image: postgres:15\n    volumes:\n      - db_data:/var/lib/postgresql/data # Named volume for persistent DB data\n      - ./app/config:/etc/app/config     # Bind mount: maps host folder to container (for config files)\n</code></pre> </li> </ul> <p>volumes: # Global volume definitions db_data: driver: local # Volume driver (default) # You can also add options or driver_opts for advanced configurations, # e.g., driver_opts: {type: nfs, o: \u201caddr=192.168.1.100,nolock,rw\u201d, device: \u201c:/export/data\u201d} # but this is less common for a simple guide. ```</p>"},{"location":"002-Structure/#environment-environment-variables","title":"<code>environment</code> (Environment Variables)","text":"<ul> <li>Purpose: Defines environment variables for the container. Useful for passing configuration details like passwords, API keys, or environment settings (development/production).</li> <li>Formats:</li> <li>List of <code>KEY=VALUE</code> strings.</li> <li>Map of <code>KEY: VALUE</code> pairs.</li> <li> <p>Example:</p> <pre><code>services:\n  api:\n    image: my_api_image\n    environment:\n      API_KEY: your_api_key\n      DATABASE_URL: postgres://user:password@db:5432/mydb\n      NODE_ENV: development\n      - DEBUG=true # Another format for lists\n</code></pre> <p>Tip: For sensitive variables, consider using a <code>.env</code> file (in the same directory as your <code>docker-compose.yml</code>) or Docker Secrets.</p> </li> </ul>"},{"location":"002-Structure/#depends_on-service-dependencies","title":"<code>depends_on</code> (Service Dependencies)","text":"<ul> <li>Purpose: Defines the startup order between services. Services will only start after the services they depend on have been started. Important: <code>depends_on</code> ensures the container has started, but not necessarily that the service within it is ready to accept connections (e.g., a database fully booted and listening).</li> <li> <p>Example:</p> <pre><code>services:\n  web:\n    image: my_web_app\n    depends_on:\n      - api # The web service will start only after the api service has started\n      - db  # And the db service has started\n    ports:\n      - \"80:80\"\n  api:\n    image: my_api_service\n    depends_on:\n      - db # The api service will start only after the db service has started\n    ports:\n      - \"3000:3000\"\n  db:\n    image: postgres:15\n</code></pre> </li> </ul>"},{"location":"002-Structure/#networks-defining-networks","title":"<code>networks</code> (Defining Networks)","text":"<ul> <li>Purpose: Allows you to define custom networks so that services can communicate with each other. Services on the same network can communicate using their service names (DNS resolution).</li> <li> <p>Example:</p> <p>```yaml services:   web:     image: nginx     ports:       - \u201c80:80\u201d     networks:       - frontend_network # Connected to frontend_network       - backend_network  # Connected to backend_network   api:     image: my_api_app     networks:       - backend_network  # Connected to backend_network   db:     image: postgres:15     networks:       - db_network # Connected to db_network</p> <p>networks:  # Global network definitions frontend_network:   # driver: bridge (default) backend_network:   # driver: bridge db_network:   internal: true # Internal network only (not accessible from the host)   # ipam:   #   config:   #     - subnet: 172.20.0.0/24 # Defines an IP range for the network for the    ```</p> </li> </ul>"},{"location":"002-Structure/#links-linking-services-legacy","title":"<code>links</code> (Linking Services - Legacy)","text":"<ul> <li>Purpose: Allows linking older services (pre-Compose v2) and provides aliases for hostnames. It is highly recommended to use <code>networks</code> instead of <code>links</code> in newer Compose versions (v2 and above), as <code>links</code> is considered legacy.</li> <li> <p>Example (Not recommended for new usage):</p> <pre><code>services:\n  web:\n    image: my_web_app\n    links:\n      - db:database_alias # Links to 'db' and gives it an alias 'database_alias'\n</code></pre> </li> </ul>"},{"location":"002-Structure/#container_name-custom-container-name","title":"<code>container_name</code> (Custom Container Name)","text":"<ul> <li>Purpose: Allows you to specify a custom name for the running container, instead of the name Docker Compose automatically generates (usually <code>project_service_index</code>).</li> <li> <p>Example:</p> <pre><code>services:\n  my_web:\n    image: nginx\n    container_name: my_nginx_server # The container will be named 'my_nginx_server'\n    ports:\n      - \"80:80\"\n</code></pre> </li> </ul>"},{"location":"002-Structure/#restart-restart-policy","title":"<code>restart</code> (Restart Policy)","text":"<ul> <li>Purpose: Determines how the container will be restarted if it exits or crashes.</li> <li>Options:</li> <li><code>no</code>: Does not restart (default).</li> <li><code>on-failure</code>: Restarts only if the container exits with a non-zero exit code.</li> <li><code>always</code>: Always restarts, even if the container exits successfully.</li> <li><code>unless-stopped</code>: Always restarts unless it is explicitly stopped.</li> <li> <p>Example:</p> <pre><code>services:\n  app:\n    image: my_app\n    restart: unless-stopped # Always restarts, unless manually stopped\n</code></pre> </li> </ul>"},{"location":"002-Structure/#healthcheck-health-check","title":"<code>healthcheck</code> (Health Check)","text":"<ul> <li>Purpose: Defines how Docker can check if the container (and the service within it) is healthy and functional. This is particularly useful in conjunction with <code>depends_on</code> to ensure a dependent service is truly ready before other services connect to it.</li> <li>Options:</li> <li><code>test</code>: The command to be executed for the health check.</li> <li><code>interval</code>: How often to run the check (default: 30s).</li> <li><code>timeout</code>: Maximum time allowed for a single check to complete (default: 30s).</li> <li><code>retries</code>: How many consecutive failures are needed to consider the container unhealthy (default: 3).</li> <li><code>start_period</code>: Initialization time to allow a container to bootstrap. During this period, health check failures will not count towards the maximum retries (default: 0s).</li> <li> <p>Example:</p> <pre><code>services:\n  web:\n    image: my_web_app\n    ports:\n      - \"80:80\"\n    depends_on:\n      api:\n        condition: service_healthy # The web service will only start after 'api' is healthy\n    healthcheck:\n      # Checks if web server responds\n      test: [\"CMD-SHELL\", \"curl -f http://localhost/ || exit 1\"] \n      interval: 10s\n      timeout: 5s\n      retries: 3\n      # Give the service 20 seconds to start up initially\n      # before starting health checks\n      start_period: 20s api:\n    image: my_api_service\n    ports:\n      - \"3000:3000\"\n    healthcheck:\n      # Checks a health endpoint\n      test: [\"CMD-SHELL\", \"curl -f http://localhost:3000/health || exit 1\"] \n      interval: 5s\n      timeout: 3s\n      retries: 5\n</code></pre> </li> </ul>"},{"location":"002-Structure/#complete-docker-composeyml-example","title":"Complete <code>docker-compose.yml</code> Example","text":"<p>Here\u2019s an example combining many of the features discussed, illustrating a simple web application with a backend API and a database:</p> <pre><code>version: '3.8'\n\nservices:\n  web:\n    build:\n      context: ./frontend # Assumes a frontend application in ./frontend with its Dockerfile\n      dockerfile: Dockerfile\n    container_name: my-webapp-frontend\n    ports:\n      - \"80:80\"\n    environment:\n      API_URL: http://api:3000 # Connects to the 'api' service within the Docker network\n    networks:\n      - app_network\n    depends_on:\n      api:\n        condition: service_healthy # Ensures API is healthy before starting web\n    restart: unless_stopped\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost/\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n      start_period: 10s\n\n  api:\n    build:\n      context: ./backend # Assumes a backend API application in ./backend with its Dockerfile\n    container_name: my-api-backend\n    ports:\n      - \"3000:3000\"\n    environment:\n      DB_HOST: db # Connects to the 'db' service within the Docker network\n      DB_USER: user\n      DB_PASSWORD: password\n      DB_NAME: mydatabase\n      NODE_ENV: production\n    volumes:\n      - api_logs:/var/log/my_app # Mounts a named volume for API logs\n    networks:\n      - app_network\n      - db_network # Connects to both app and db networks\n    depends_on:\n      db:\n        condition: service_healthy # Ensures DB is healthy before starting API\n    restart: on_failure\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:3000/health\"]\n      interval: 15s\n      timeout: 5s\n      retries: 5\n      start_period: 15s\n\n  db:\n    image: postgres:15\n    container_name: my-postgres-db\n    environment:\n      POSTGRES_DB: mydatabase\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n    volumes:\n      - db_data:/var/lib/postgresql/data # Mounts a named volume for persistent DB data\n    networks:\n      - db_network # Only connected to the database network\n    restart: always\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U user -d mydatabase\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\nvolumes:\n  db_data: # Definition of the named volume for database data\n  api_logs: # Definition of the named volume for API logs\n\nnetworks:\n  app_network: # Network for web and API communication\n  db_network:  # Network for API and DB communication (can be internal for better isolation)\n    internal: true # Makes this network only accessible by containers connected to it, not from the host directly\n</code></pre>"},{"location":"002-Structure/#navigation","title":"Navigation","text":"<p>\u2190 Previous: 002-Compose-Demo | Next: 003-Commands \u2192</p>"},{"location":"003-Commands/","title":"003 Commands","text":""},{"location":"003-Commands/#ctrl-click-to-open-in-new-window","title":"CTRL + click to open in new window","text":""},{"location":"003-Commands/#docker-compose-commands-essential-cli-reference","title":"Docker Compose Commands - Essential CLI Reference","text":""},{"location":"003-Commands/#description","title":"Description","text":"<p>This lab provides a comprehensive guide to Docker Compose command-line interface. You\u2019ll master all the essential commands needed to manage multi-container applications effectively, from basic startup and shutdown to advanced debugging and maintenance operations.</p>"},{"location":"003-Commands/#prerequisites","title":"Prerequisites","text":"<ul> <li>Completion of previous labs (001-intro, 002-Compose-Demo, 002-Structure)</li> <li>Docker and Docker Compose installed</li> <li>Basic understanding of Docker Compose file structure</li> </ul>"},{"location":"003-Commands/#lab-overview","title":"Lab Overview","text":"<p>This comprehensive command guide covers the Docker Compose CLI, focusing on the most common and powerful commands that allow you to easily manage complex multi-container application environments.</p>"},{"location":"003-Commands/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Docker Compose Commands - Essential CLI Reference</li> <li>Description</li> <li>Prerequisites</li> <li>Lab Overview</li> <li>Table of Contents</li> <li>Docker Compose Commands</li> <li>Command Examples<ul> <li>Explanation and Examples for Commands</li> <li><code>docker compose up</code></li> <li><code>docker compose down</code></li> <li><code>docker compose build</code></li> <li><code>docker compose ps</code></li> <li><code>docker compose logs</code></li> <li><code>docker compose exec</code></li> <li><code>docker compose pull</code></li> <li><code>docker compose restart</code></li> <li><code>docker compose stop</code></li> <li><code>docker compose start</code></li> </ul> </li> <li>Command Categories and Use Cases<ul> <li>Development Workflow Commands</li> <li>Build and Update Commands</li> <li>Maintenance Commands</li> </ul> </li> <li>Advanced Command Options<ul> <li>Common Flags and Options</li> <li>Examples with Advanced Options</li> </ul> </li> <li>Troubleshooting Commands<ul> <li>Debugging Issues</li> </ul> </li> <li>Key Learning Outcomes</li> <li>Best Practices</li> </ul>"},{"location":"003-Commands/#docker-compose-commands","title":"Docker Compose Commands","text":"<ul> <li><code>docker compose</code> is the command-line interface for Docker Compose.</li> <li>It allows you to manage multi-container Docker applications defined in a <code>docker-compose.yml</code> file.</li> <li>Here are some of the most commonly used commands:</li> </ul> Command Explanation <code>docker compose up</code> Builds, (re)creates, starts, and attaches to containers for a service. <code>docker compose down</code> Stops containers and removes containers, networks, volumes, and images. <code>docker compose build</code> Builds or rebuilds services. <code>docker compose ps</code> Lists containers. <code>docker compose logs</code> Displays log output from services. <code>docker compose exec</code> Executes a command in a running container. <code>docker compose pull</code> Pulls service images. <code>docker compose restart</code> Restarts services. <code>docker compose stop</code> Stops running containers without removing them. <code>docker compose start</code> Starts existing containers for a service."},{"location":"003-Commands/#command-examples","title":"Command Examples","text":""},{"location":"003-Commands/#explanation-and-examples-for-commands","title":"Explanation and Examples for Commands","text":""},{"location":"003-Commands/#docker-compose-up","title":"<code>docker compose up</code>","text":"<ul> <li>Explanation: Builds, (re)creates, starts, and attaches to containers for a service.</li> <li>Example:</li> </ul> <pre><code># Start the application defined in docker-compose.yml\n# -d = Runs the containers in detached mode.\ndocker compose up -d\n</code></pre>"},{"location":"003-Commands/#docker-compose-down","title":"<code>docker compose down</code>","text":"<ul> <li>Explanation: Stops containers and removes containers, networks, volumes, and images created by <code>up</code>.</li> <li>Example:</li> </ul> <pre><code># Stops and removes containers along with associated volumes.\ndocker compose down --volumes\n</code></pre>"},{"location":"003-Commands/#docker-compose-build","title":"<code>docker compose build</code>","text":"<ul> <li>Explanation: Builds or rebuilds services defined in the <code>docker-compose.yml</code> file.</li> <li>Example:</li> </ul> <pre><code># Builds all services.\ndocker compose build\n</code></pre>"},{"location":"003-Commands/#docker-compose-ps","title":"<code>docker compose ps</code>","text":"<ul> <li>Explanation: Lists containers for the application defined in the <code>docker-compose.yml</code> file.</li> <li>Example:</li> </ul> <pre><code># Displays the status of all containers.\ndocker compose ps\n</code></pre>"},{"location":"003-Commands/#docker-compose-logs","title":"<code>docker compose logs</code>","text":"<ul> <li>Explanation: Displays log output from services.</li> <li>Example:</li> </ul> <pre><code># Follows the logs of all running services.\ndocker compose logs -f\n</code></pre>"},{"location":"003-Commands/#docker-compose-exec","title":"<code>docker compose exec</code>","text":"<ul> <li>Explanation: Executes a command in a running container.</li> <li>Example:</li> </ul> <pre><code># Opens a bash shell in the `web` service container.\ndocker compose exec web bash\n</code></pre>"},{"location":"003-Commands/#docker-compose-pull","title":"<code>docker compose pull</code>","text":"<ul> <li>Explanation: Pulls service images defined in the <code>docker-compose.yml</code> file.</li> <li>Example:</li> </ul> <pre><code># Pulls the latest images for all services.\ndocker compose pull\n</code></pre>"},{"location":"003-Commands/#docker-compose-restart","title":"<code>docker compose restart</code>","text":"<ul> <li>Explanation: Restarts services.</li> <li>Example:</li> </ul> <pre><code># Restarts the `web` service.\ndocker compose restart web\n</code></pre>"},{"location":"003-Commands/#docker-compose-stop","title":"<code>docker compose stop</code>","text":"<ul> <li>Explanation: Stops running containers without removing them.</li> <li>Example:</li> </ul> <pre><code># Stops all running containers.\ndocker compose stop\n</code></pre>"},{"location":"003-Commands/#docker-compose-start","title":"<code>docker compose start</code>","text":"<ul> <li>Explanation: Starts existing containers for a service.</li> <li>Example:</li> </ul> <pre><code># Starts the `web` service container.\ndocker compose start web\n</code></pre>"},{"location":"003-Commands/#command-categories-and-use-cases","title":"Command Categories and Use Cases","text":""},{"location":"003-Commands/#development-workflow-commands","title":"Development Workflow Commands","text":"<ul> <li><code>docker compose up -d</code>: Start development environment in background</li> <li><code>docker compose logs -f [service]</code>: Monitor application logs during development</li> <li><code>docker compose exec [service] bash</code>: Debug issues by accessing container shell</li> <li><code>docker compose down</code>: Clean shutdown of development environment</li> </ul>"},{"location":"003-Commands/#build-and-update-commands","title":"Build and Update Commands","text":"<ul> <li><code>docker compose build</code>: Rebuild images after code changes</li> <li><code>docker compose pull</code>: Update to latest base images</li> <li><code>docker compose up --build</code>: Rebuild and restart in one command</li> </ul>"},{"location":"003-Commands/#maintenance-commands","title":"Maintenance Commands","text":"<ul> <li><code>docker compose ps</code>: Check service status and health</li> <li><code>docker compose restart [service]</code>: Restart specific problematic services</li> <li><code>docker compose stop/start</code>: Pause and resume without losing data</li> </ul>"},{"location":"003-Commands/#advanced-command-options","title":"Advanced Command Options","text":""},{"location":"003-Commands/#common-flags-and-options","title":"Common Flags and Options","text":"<ul> <li><code>-f, --file</code>: Specify custom compose file name</li> <li><code>-p, --project-name</code>: Override project name</li> <li><code>--env-file</code>: Specify environment file</li> <li><code>--profile</code>: Activate specific service profiles</li> </ul>"},{"location":"003-Commands/#examples-with-advanced-options","title":"Examples with Advanced Options","text":"<pre><code># Use custom compose file\ndocker compose -f docker-compose.prod.yml up -d\n\n# Set custom project name\ndocker compose -p myproject up -d\n\n# Use specific environment file\ndocker compose --env-file .env.production up -d\n</code></pre>"},{"location":"003-Commands/#troubleshooting-commands","title":"Troubleshooting Commands","text":""},{"location":"003-Commands/#debugging-issues","title":"Debugging Issues","text":"<pre><code># View detailed container information\ndocker compose ps -a\n\n# Check logs for specific service\ndocker compose logs web\n\n# Follow logs in real-time\ndocker compose logs -f --tail=50\n\n# Inspect container configuration\ndocker compose config\n\n# View resource usage\ndocker compose top\n</code></pre>"},{"location":"003-Commands/#key-learning-outcomes","title":"Key Learning Outcomes","text":"<p>After mastering these commands, you\u2019ll be able to:</p> <ul> <li>Manage Application Lifecycle: Start, stop, and restart multi-container applications efficiently</li> <li>Debug and Monitor: Access logs, execute commands, and troubleshoot issues in running containers</li> <li>Development Workflow: Integrate Docker Compose into your daily development routine</li> <li>Build Management: Handle image building and updates effectively</li> <li>Production Operations: Perform maintenance and updates on running applications</li> </ul>"},{"location":"003-Commands/#best-practices","title":"Best Practices","text":"<ul> <li>Use detached mode (<code>-d</code>) for long-running services</li> <li>Follow logs regularly to monitor application health</li> <li>Clean up resources with <code>docker compose down</code> when done</li> <li>Use specific service names for targeted operations</li> <li>Combine commands for efficient workflows (e.g., <code>up --build</code>)</li> </ul>"},{"location":"003-Commands/#navigation","title":"Navigation","text":"<p>\u2190 Previous: 002-Structure | Next: 004-Compose-2Helm \u2192</p>"},{"location":"004-Compose-2Helm/","title":"004 Compose to Helm","text":""},{"location":"004-Compose-2Helm/#how-to-create-and-use-a-helm-chart","title":"How to Create and Use a Helm Chart","text":"<ul> <li>Helm is a powerful package manager for Kubernetes that simplifies the deployment and management of applications.</li> <li>This lab will walk you through the process of creating and using a Helm chart.</li> </ul>"},{"location":"004-Compose-2Helm/#prerequisites","title":"Prerequisites","text":"<p>Before you begin, ensure you have the following installed:</p> <ol> <li>Kubernetes Cluster: A running Kubernetes cluster.</li> <li>Helm: Installed and configured. You can install Helm by following the official Helm installation guide.</li> <li>kubectl: Installed and configured to interact with your Kubernetes cluster.</li> </ol>"},{"location":"004-Compose-2Helm/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Step 1: Create a New Helm Chart</li> <li>Step 2: Customize the Chart</li> <li>Step 3: Package the Chart</li> <li>Step 4: Deploy the Chart</li> <li>Step 5: Upgrade and Manage the Chart</li> <li>Step 6: Pass Values to the Helm Chart</li> </ul>"},{"location":"004-Compose-2Helm/#step-1-create-a-new-helm-chart","title":"Step 1: Create a New Helm Chart","text":"<ol> <li>Navigate to the directory where you want to create the Helm chart:</li> </ol> <pre><code>cd /path/to/your/directory\n</code></pre> <ol> <li>Use the <code>helm create</code> command to scaffold a new Helm chart:</li> </ol> <pre><code>helm create my-chart\n</code></pre> <p>This will create a directory structure for your chart, including default templates and configuration files.</p>"},{"location":"004-Compose-2Helm/#step-2-customize-the-chart","title":"Step 2: Customize the Chart","text":"<ol> <li>Edit <code>values.yaml</code>:</li> <li>Open the <code>values.yaml</code> file in the chart directory.</li> <li> <p>Define the default values for your application, such as image repository, tag, and resource limits.</p> </li> <li> <p>Modify Templates:</p> </li> <li>Navigate to the <code>templates/</code> directory.</li> <li> <p>Edit the YAML files (e.g., <code>deployment.yaml</code>, <code>service.yaml</code>) to define Kubernetes resources for your application.</p> </li> <li> <p>Add Configurations:</p> </li> <li>If your application requires additional configurations, add them to the <code>templates/</code> directory or include them in <code>values.yaml</code>.</li> </ol>"},{"location":"004-Compose-2Helm/#step-3-package-the-chart","title":"Step 3: Package the Chart","text":"<ol> <li>Package the chart into a <code>.tgz</code> file:</li> </ol> <pre><code>helm package my-chart\n</code></pre> <p>This creates a compressed file that can be shared or uploaded to a Helm repository.</p> <ol> <li>Optionally, you can upload the packaged chart to a Helm repository for distribution.</li> </ol>"},{"location":"004-Compose-2Helm/#step-4-deploy-the-chart","title":"Step 4: Deploy the Chart","text":"<ol> <li>Install the chart in your Kubernetes cluster:</li> </ol> <pre><code>helm install my-release ./my-chart\n</code></pre> <p>Replace <code>my-release</code> with a name for your release and <code>./my-chart</code> with the path to your chart.</p> <ol> <li>Verify the deployment:</li> </ol> <pre><code>kubectl get all\n</code></pre> <p>Ensure all resources are created and running as expected.</p>"},{"location":"004-Compose-2Helm/#step-5-upgrade-and-manage-the-chart","title":"Step 5: Upgrade and Manage the Chart","text":"<ol> <li>Upgrade the Release:</li> <li>Modify the chart or <code>values.yaml</code> as needed.</li> <li> <p>Apply the changes:</p> <pre><code>helm upgrade my-release ./my-chart\n</code></pre> </li> <li> <p>Rollback Changes:</p> </li> <li> <p>If something goes wrong, rollback to a previous version:</p> <pre><code>helm rollback my-release 1\n</code></pre> <p>Replace <code>1</code> with the desired revision number.</p> </li> <li> <p>Uninstall the Release:</p> </li> <li> <p>To remove the release and its resources:</p> <pre><code>helm uninstall my-release\n</code></pre> </li> </ol>"},{"location":"004-Compose-2Helm/#step-6-pass-values-to-the-helm-chart","title":"Step 6: Pass Values to the Helm Chart","text":"<p>Helm allows you to override default values defined in the <code>values.yaml</code> file by passing custom values during installation or upgrade. This is useful for customizing deployments without modifying the chart itself.</p> <ol> <li>Pass Values via Command Line:</li> <li> <p>Use the <code>--set</code> flag to specify values directly in the command:</p> <pre><code>helm install my-release ./my-chart --set key1=value1,key2=value2\n</code></pre> <p>Example:</p> <pre><code>helm install my-release ./my-chart --set image.tag=1.2.3,replicaCount=3\n</code></pre> </li> <li> <p>Use a Custom Values File:</p> </li> <li> <p>Create a custom YAML file (e.g., <code>custom-values.yaml</code>) with the values you want to override:</p> <pre><code>replicaCount: 3\nimage:\n  tag: 1.2.3\n</code></pre> </li> <li> <p>Pass the file using the <code>-f</code> flag:</p> <pre><code>helm install my-release ./my-chart -f custom-values.yaml\n</code></pre> </li> <li> <p>Combine Multiple Methods:</p> </li> <li> <p>You can combine the <code>--set</code> flag and custom values file. The <code>--set</code> values take precedence over the file:</p> <pre><code>helm install my-release ./my-chart -f custom-values.yaml --set replicaCount=5\n</code></pre> </li> <li> <p>This allows you to customize your Helm chart deployments flexibly, adapting to different environments or requirements without modifying the chart itself.</p> </li> </ol>"},{"location":"005-Compose-Advanced/","title":"005 Compose Advanced","text":""},{"location":"005-Compose-Advanced/#ctrl-click-to-open-in-new-window","title":"CTRL + click to open in new window","text":""},{"location":"005-Compose-Advanced/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Table of Contents</li> <li>Advanced Docker Compose Configuration</li> <li>Description</li> <li>Prerequisites</li> <li>Services Overview<ul> <li>1. Grafana</li> <li>2. Loki</li> <li>3. Node Exporter</li> <li>4. Portainer</li> <li>5. Prometheus</li> <li>6. Server</li> </ul> </li> <li>Key Features Demonstrated<ul> <li>Docker Compose <code>extends</code> Feature</li> <li>YAML Anchors and Aliases (v1 file)</li> <li>External Configuration</li> </ul> </li> <li>File Structure</li> <li>Usage<ul> <li>Running the Standard Configuration</li> <li>Running the YAML Anchors Version</li> <li>Running the Demo Script</li> </ul> </li> <li>Lab Exercises</li> <li>Learning Outcomes</li> <li>Volumes</li> <li>Networks</li> <li>Navigation</li> </ul>"},{"location":"005-Compose-Advanced/#advanced-docker-compose-configuration","title":"Advanced Docker Compose Configuration","text":"<p>This lab demonstrates advanced Docker Compose features including the <code>extends</code> functionality, YAML anchors, and modular service definitions for a complete monitoring stack.</p>"},{"location":"005-Compose-Advanced/#description","title":"Description","text":"<p>This lab showcases two different approaches to creating a comprehensive monitoring and management stack using Docker Compose:</p> <ol> <li><code>docker-compose.yaml</code> - Demonstrates the <code>extends</code> feature for modular service definitions</li> <li><code>docker-compose-v1.yaml</code> - Shows YAML anchors and aliases for DRY (Don\u2019t Repeat Yourself) configuration</li> </ol>"},{"location":"005-Compose-Advanced/#prerequisites","title":"Prerequisites","text":"<ul> <li>Docker and Docker Compose installed</li> <li>Basic understanding of Docker Compose concepts</li> <li>Familiarity with monitoring tools (optional but helpful)</li> </ul>"},{"location":"005-Compose-Advanced/#services-overview","title":"Services Overview","text":"<p>The monitoring stack includes the following services:</p>"},{"location":"005-Compose-Advanced/#1-grafana","title":"1. Grafana","text":"<ul> <li>Purpose: Data visualization and monitoring dashboard</li> <li>Configuration: Extends from <code>../../resources/compose/grafana.yaml</code></li> <li>Access: Web-based dashboard for metrics visualization</li> </ul>"},{"location":"005-Compose-Advanced/#2-loki","title":"2. Loki","text":"<ul> <li>Purpose: Log aggregation system for centralized logging</li> <li>Configuration: Extends from <code>../../resources/compose/loki.yaml</code></li> <li>Integration: Works with Grafana for log visualization</li> </ul>"},{"location":"005-Compose-Advanced/#3-node-exporter","title":"3. Node Exporter","text":"<ul> <li>Purpose: Hardware and OS metrics exporter for Prometheus</li> <li>Configuration: Extends from <code>../../resources/compose/node-exporter.yaml</code></li> <li>Function: Collects system-level metrics</li> </ul>"},{"location":"005-Compose-Advanced/#4-portainer","title":"4. Portainer","text":"<ul> <li>Purpose: Docker container management web interface</li> <li>Configuration: Extends from <code>../../resources/compose/portainer.yaml</code></li> <li>Access: Web UI for Docker management</li> </ul>"},{"location":"005-Compose-Advanced/#5-prometheus","title":"5. Prometheus","text":"<ul> <li>Purpose: Time-series metrics collection and monitoring system</li> <li>Configuration: Extends from <code>../../resources/compose/prometheus.yaml</code></li> <li>Function: Central metrics collection and alerting</li> </ul>"},{"location":"005-Compose-Advanced/#6-server","title":"6. Server","text":"<ul> <li>Purpose: Custom application server</li> <li>Configuration: Extends from <code>../../resources/compose/server.yaml</code></li> <li>Function: Demo application for monitoring</li> </ul>"},{"location":"005-Compose-Advanced/#key-features-demonstrated","title":"Key Features Demonstrated","text":""},{"location":"005-Compose-Advanced/#docker-compose-extends-feature","title":"Docker Compose <code>extends</code> Feature","text":"<ul> <li>Modularity: Service definitions are split into separate YAML files</li> <li>Reusability: Base configurations can be shared across environments</li> <li>Maintainability: Changes to base services affect all environments</li> </ul>"},{"location":"005-Compose-Advanced/#yaml-anchors-and-aliases-v1-file","title":"YAML Anchors and Aliases (v1 file)","text":"<ul> <li>DRY Principle: Common configuration defined once with <code>x-common-config</code></li> <li>Consistency: All services share the same network and environment settings</li> <li>Efficiency: Reduces repetition and potential for configuration drift</li> </ul>"},{"location":"005-Compose-Advanced/#external-configuration","title":"External Configuration","text":"<ul> <li>Environment Files: Shared <code>.env</code> file for environment variables</li> <li>Network Configuration: Custom bridge network for service communication</li> <li>Volume Management: Named volumes for persistent data storage</li> </ul>"},{"location":"005-Compose-Advanced/#file-structure","title":"File Structure","text":"<pre><code>005-Compose-Advanced/\n\u251c\u2500\u2500 docker-compose.yaml          # Main compose file using extends\n\u251c\u2500\u2500 docker-compose-v1.yaml       # Alternative using YAML anchors\n\u251c\u2500\u2500 demo.sh                      # Demo script\n\u2514\u2500\u2500 README.md                    # This file\n</code></pre>"},{"location":"005-Compose-Advanced/#usage","title":"Usage","text":""},{"location":"005-Compose-Advanced/#running-the-standard-configuration","title":"Running the Standard Configuration","text":"<pre><code># Start all services\ndocker-compose up -d\n\n# View logs\ndocker-compose logs -f\n\n# Stop services\ndocker-compose down\n</code></pre>"},{"location":"005-Compose-Advanced/#running-the-yaml-anchors-version","title":"Running the YAML Anchors Version","text":"<pre><code># Start with the alternative configuration\ndocker-compose -f docker-compose-v1.yaml up -d\n\n# Stop services\ndocker-compose -f docker-compose-v1.yaml down\n</code></pre>"},{"location":"005-Compose-Advanced/#running-the-demo-script","title":"Running the Demo Script","text":"<pre><code># Execute the provided demo script\n./demo.sh\n</code></pre>"},{"location":"005-Compose-Advanced/#lab-exercises","title":"Lab Exercises","text":"<ol> <li>Compare Configurations: Study both Docker Compose files and identify the differences in approach</li> <li>Modify Services: Try adding a new service to both files and observe the configuration differences</li> <li>Environment Variables: Explore the shared environment file and understand variable inheritance</li> <li>Network Communication: Test inter-service communication within the custom network</li> <li>Volume Persistence: Verify that Portainer data persists across container restarts</li> </ol>"},{"location":"005-Compose-Advanced/#learning-outcomes","title":"Learning Outcomes","text":"<p>After completing this lab, you will understand:</p> <ul> <li>How to use Docker Compose <code>extends</code> for modular configurations</li> <li>YAML anchors and aliases for reducing configuration repetition</li> <li>Best practices for organizing complex multi-service applications</li> <li>Environment variable management in Docker Compose</li> <li>Network and volume configuration for production-like setups</li> </ul>"},{"location":"005-Compose-Advanced/#volumes","title":"Volumes","text":"<ul> <li><code>portainer_data</code>: Local volume for Portainer configuration and data persistence</li> </ul>"},{"location":"005-Compose-Advanced/#networks","title":"Networks","text":"<ul> <li><code>app_network</code> (v1 only): Custom bridge network enabling isolated service communication</li> </ul>"},{"location":"005-Compose-Advanced/#navigation","title":"Navigation","text":"<p>\u2190 Previous: docker-compose.yaml | Next: demo.sh \u2192</p>"},{"location":"006-Watch/","title":"006 Watch","text":""},{"location":"006-Watch/#ctrl-click-to-open-in-new-window","title":"CTRL + click to open in new window","text":""},{"location":"006-Watch/#docker-compose-watch","title":"Docker Compose Watch","text":"<p>Docker Compose Watch is a powerful tool for monitoring changes in your Docker Compose setup and automatically rebuilding or restarting services when changes are detected. This lab demonstrates how to implement and use Docker Compose Watch for streamlined development workflows.</p>"},{"location":"006-Watch/#description","title":"Description","text":"<p>This lab explores Docker Compose Watch functionality, which observes changes in project files such as <code>Dockerfile</code>, <code>docker-compose.yaml</code>, or application code, and triggers automated actions like rebuilding images or restarting containers. This is particularly valuable in development environments where frequent code changes occur.</p>"},{"location":"006-Watch/#prerequisites","title":"Prerequisites","text":"<ul> <li>Docker and Docker Compose installed</li> <li>Basic understanding of Docker Compose</li> <li>Familiarity with file watching concepts</li> <li>Linux/macOS environment (for inotify-tools examples)</li> </ul>"},{"location":"006-Watch/#what-is-docker-compose-watch","title":"What is Docker Compose Watch?","text":"<p>Docker Compose Watch is a mechanism that monitors file system changes and automatically triggers container rebuilds or restarts. It eliminates the need for manual intervention when iterating on containerized applications, significantly improving development efficiency.</p>"},{"location":"006-Watch/#key-benefits","title":"Key Benefits","text":"<ul> <li>Efficiency: Automates rebuilding and restarting processes</li> <li>Consistency: Ensures changes are immediately reflected in containers</li> <li>Productivity: Allows developers to focus on coding instead of container management</li> <li>Reduced Downtime: Minimizes delays through automatic service restarts</li> <li>Improved Feedback Loop: Provides immediate reflection of changes</li> </ul>"},{"location":"006-Watch/#use-cases","title":"Use Cases","text":""},{"location":"006-Watch/#1-web-application-development","title":"1. Web Application Development","text":"<p>Automatically reloads applications when code changes are detected in source files.</p>"},{"location":"006-Watch/#2-microservices-development","title":"2. Microservices Development","text":"<p>Keeps multiple services synchronized during development cycles.</p>"},{"location":"006-Watch/#3-configuration-management","title":"3. Configuration Management","text":"<p>Applies configuration file changes without requiring manual restarts.</p>"},{"location":"006-Watch/#4-rapid-testing","title":"4. Rapid Testing","text":"<p>Facilitates quick testing of changes in isolated container environments.</p>"},{"location":"006-Watch/#implementation-examples","title":"Implementation Examples","text":""},{"location":"006-Watch/#example-1-basic-application-code-watching","title":"Example 1: Basic Application Code Watching","text":"<pre><code>version: '3.8'\nservices:\n  app:\n    build: .\n    volumes:\n      - ./app:/usr/src/app\n    command: npm start\n    develop:\n      watch:\n        - action: rebuild\n          path: ./package.json\n        - action: sync\n          path: ./app\n          target: /usr/src/app\n</code></pre>"},{"location":"006-Watch/#example-2-configuration-file-watching","title":"Example 2: Configuration File Watching","text":"<pre><code>version: '3.8'\nservices:\n  app:\n    build: .\n    volumes:\n      - ./config:/usr/src/app/config\n    command: npm start\n    develop:\n      watch:\n        - action: restart\n          path: ./config\n</code></pre>"},{"location":"006-Watch/#example-3-multi-service-watch-setup","title":"Example 3: Multi-Service Watch Setup","text":"<pre><code>version: '3.8'\nservices:\n  frontend:\n    build: ./frontend\n    develop:\n      watch:\n        - action: sync\n          path: ./frontend/src\n          target: /app/src\n\n  backend:\n    build: ./backend\n    develop:\n      watch:\n        - action: rebuild\n          path: ./backend/requirements.txt\n        - action: sync\n          path: ./backend/app\n          target: /app\n</code></pre>"},{"location":"006-Watch/#demo-file-watching-with-python","title":"Demo: File Watching with Python","text":""},{"location":"006-Watch/#bash-script-watch_demosh","title":"Bash Script (<code>watch_demo.sh</code>)","text":"<pre><code>#!/bin/bash\n\n# Initialize the counter file\ncounter_file=\"counter.txt\"\nif [ ! -f \"$counter_file\" ]; then\n  echo 0 &gt; \"$counter_file\"\nfi\n\n# Watch for changes in the counter file\nwhile inotifywait -e modify \"$counter_file\"; do\n  echo \"Change detected in $counter_file. Running Python script...\"\n  python3 print_counter.py\ndone\n</code></pre>"},{"location":"006-Watch/#python-script-print_counterpy","title":"Python Script (<code>print_counter.py</code>)","text":"<pre><code>import os\nimport time\n\n# Specify the counter file\ncounter_file = 'counter.txt'\n\n# Infinite loop to print the version and sleep for 3 seconds\nwhile True:\n    # Check if the file exists\n    if os.path.exists(counter_file):\n        with open(counter_file, 'r') as file:\n            counter = int(file.read().strip())\n            print(f\"Current counter value: {counter}\")\n\n        # Increment the counter and write back to the file\n        with open(counter_file, 'w') as file:\n            file.write(str(counter + 1))\n    else:\n        print(f\"File '{counter_file}' does not exist.\")\n\n    # Sleep for 3 seconds\n    time.sleep(3)\n</code></pre>"},{"location":"006-Watch/#tools-for-docker-compose-watch","title":"Tools for Docker Compose Watch","text":""},{"location":"006-Watch/#built-in-docker-compose-watch","title":"Built-in Docker Compose Watch","text":"<ul> <li>Native support in Docker Compose v2.22+</li> <li>Uses the <code>develop.watch</code> configuration</li> <li>Supports <code>sync</code>, <code>rebuild</code>, and <code>restart</code> actions</li> </ul>"},{"location":"006-Watch/#external-tools","title":"External Tools","text":"<ul> <li>docker-compose-watch: Dedicated third-party tool</li> <li>entr: General-purpose file watcher for triggering Docker commands</li> <li>inotify-tools: Linux utilities for monitoring file system changes</li> <li>watchman: Facebook\u2019s file watching service</li> </ul>"},{"location":"006-Watch/#watch-actions","title":"Watch Actions","text":""},{"location":"006-Watch/#sync","title":"Sync","text":"<ul> <li>Synchronizes files between host and container</li> <li>Fastest option for code changes</li> <li>Ideal for interpreted languages</li> </ul>"},{"location":"006-Watch/#rebuild","title":"Rebuild","text":"<ul> <li>Rebuilds the Docker image when dependencies change</li> <li>Used for package.json, requirements.txt changes</li> <li>Maintains container state when possible</li> </ul>"},{"location":"006-Watch/#restart","title":"Restart","text":"<ul> <li>Restarts the entire container</li> <li>Used for configuration changes</li> <li>Most comprehensive but slowest option</li> </ul>"},{"location":"006-Watch/#lab-exercises","title":"Lab Exercises","text":"<ol> <li>Basic Setup: Create a simple web application with Docker Compose Watch</li> <li>Multi-Action Watch: Configure different watch actions for different file types</li> <li>Performance Testing: Compare development speed with and without watch functionality</li> <li>Custom Scripting: Implement custom file watching using bash scripts and inotify</li> <li>Troubleshooting: Practice debugging watch configuration issues</li> </ol>"},{"location":"006-Watch/#best-practices","title":"Best Practices","text":"<ul> <li>Use <code>sync</code> for frequently changing source code</li> <li>Use <code>rebuild</code> for dependency files</li> <li>Use <code>restart</code> for configuration changes</li> <li>Exclude unnecessary files using <code>.dockerignore</code></li> <li>Monitor resource usage during development</li> <li>Test watch configuration in team environments</li> </ul>"},{"location":"006-Watch/#when-to-use-docker-compose-watch","title":"When to Use Docker Compose Watch","text":"<p>Docker Compose Watch is ideal for:</p> <ul> <li>Development environments with frequent code changes</li> <li>Projects with complex multi-service dependencies</li> <li>Teams requiring rapid collaboration and testing</li> <li>Applications with mixed programming languages</li> <li>Scenarios requiring immediate feedback on changes</li> </ul>"},{"location":"006-Watch/#usage","title":"Usage","text":""},{"location":"006-Watch/#sample-files-available","title":"Sample Files Available","text":"<p>This lab includes practical sample files:</p> <ul> <li><code>docker-compose.yml</code>: Comprehensive example with multiple services and watch configurations</li> <li><code>docker-compose-simple.yml</code>: Simplified version focusing on core watch features from README examples</li> <li><code>demo.sh</code>: Interactive script that creates a sample project structure and provides usage instructions</li> </ul>"},{"location":"006-Watch/#starting-watch-mode","title":"Starting Watch Mode","text":"<pre><code># Start services with watch enabled\ndocker compose watch\n\n# Start specific services with watch\ndocker compose watch [service-name]\n\n# Combine with other commands\ndocker compose up --watch\n\n# Use the simple example\ndocker compose -f docker-compose-simple.yml up --watch\n\n# Run the demo script to set up a complete example\n./demo.sh\n</code></pre>"},{"location":"006-Watch/#monitoring-watch-activity","title":"Monitoring Watch Activity","text":"<pre><code># View logs to monitor watch events\ndocker compose logs -f\n\n# Check watch configuration\ndocker compose config\n</code></pre>"},{"location":"006-Watch/#learning-outcomes","title":"Learning Outcomes","text":"<p>After completing this lab, you will understand:</p> <ul> <li>How to configure Docker Compose Watch for different scenarios</li> <li>The differences between sync, rebuild, and restart actions</li> <li>Best practices for optimizing development workflows</li> <li>Integration techniques with existing development tools</li> <li>Performance considerations and troubleshooting methods</li> </ul>"},{"location":"006-Watch/#navigation","title":"Navigation","text":"<p>\u2190 Previous: 005-Compose-Advanced | Next: (End of Labs) \u2192</p>"},{"location":"007-Networks/","title":"007 Networks","text":""},{"location":"007-Networks/#ctrl-click-to-open-in-new-window","title":"CTRL + click to open in new window","text":""},{"location":"007-Networks/#docker-compose-multi-network-architecture","title":"Docker Compose Multi-Network Architecture","text":"<p>This lab demonstrates advanced Docker Compose networking concepts through a comprehensive multi-tier application architecture. You\u2019ll learn how to design, implement, and manage complex network topologies using multiple custom networks with different configurations.</p>"},{"location":"007-Networks/#description","title":"Description","text":"<p>This lab showcases a production-like microservices architecture with proper network segmentation, security boundaries, and service isolation. The example includes 8 different networks, each serving specific purposes and demonstrating various networking patterns used in enterprise applications.</p>"},{"location":"007-Networks/#prerequisites","title":"Prerequisites","text":"<ul> <li>Docker and Docker Compose installed</li> <li>Basic understanding of Docker networking concepts</li> <li>Familiarity with microservices architecture</li> <li>Knowledge of network security principles</li> </ul>"},{"location":"007-Networks/#architecture-overview","title":"Architecture Overview","text":"<p>The application demonstrates a multi-tier architecture with the following layers:</p>"},{"location":"007-Networks/#network-architecture-diagram","title":"Network Architecture Diagram","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                          DMZ Network                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502   Nginx     \u2502                    \u2502      Grafana            \u2502 \u2502\n\u2502  \u2502  (Proxy)    \u2502                    \u2502   (Monitoring UI)       \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502                                         \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     Frontend Network                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502  Web App    \u2502                    \u2502   Redis Session        \u2502 \u2502\n\u2502  \u2502 (Frontend)  \u2502                    \u2502      Store             \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     Backend Network                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                               \u2502\n\u2502  \u2502 API Gateway \u2502                                               \u2502\n\u2502  \u2502  (Router)   \u2502                                               \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Services Network                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502User Service \u2502  \u2502Order Service\u2502  \u2502  Notification Service   \u2502\u2502\n\u2502  \u2502   (API)     \u2502  \u2502    (API)    \u2502  \u2502        (API)             \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502         \u2502                \u2502                    \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Database \u2502 \u2502              Messaging Network                      \u2502\n\u2502 Network  \u2502 \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                   \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u2502  \u2502  RabbitMQ   \u2502                                   \u2502\n\u2502 \u2502Redis \u2502 \u2502 \u2502  \u2502 (Message    \u2502                                   \u2502\n\u2502 \u2502Cache \u2502 \u2502 \u2502  \u2502   Queue)    \u2502                                   \u2502\n\u2502 \u2502      \u2502 \u2502 \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                   \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502              \u2502\n\u2502 \u2502Post  \u2502 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \u2502greSQL\u2502 \u2502 \u2502             External Network                        \u2502\n\u2502 \u2502  DBs \u2502 \u2502 \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                   \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2502  \u2502   MailHog   \u2502                                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502  \u2502   (SMTP)    \u2502                                   \u2502\n             \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                   \u2502\n             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"007-Networks/#network-definitions","title":"Network Definitions","text":""},{"location":"007-Networks/#1-frontend-network-172200024","title":"1. Frontend Network (<code>172.20.0.0/24</code>)","text":"<ul> <li>Purpose: Public-facing services and user interfaces</li> <li>Services: Web Application, Nginx Proxy, Redis Session Store</li> <li>Security: Medium - handles user traffic</li> <li>Characteristics: Bridge network with ICC enabled</li> </ul>"},{"location":"007-Networks/#2-backend-network-172210024","title":"2. Backend Network (<code>172.21.0.0/24</code>)","text":"<ul> <li>Purpose: Application logic and API gateway</li> <li>Services: API Gateway, Web Application (as client)</li> <li>Security: High - internal application communication</li> <li>Characteristics: Bridge network for API routing</li> </ul>"},{"location":"007-Networks/#3-services-network-172220024","title":"3. Services Network (<code>172.22.0.0/24</code>)","text":"<ul> <li>Purpose: Microservices inter-communication</li> <li>Services: User Service, Order Service, Notification Service, API Gateway, Redis Cache, Prometheus</li> <li>Security: High - business logic isolation</li> <li>Characteristics: Internal service mesh communication</li> </ul>"},{"location":"007-Networks/#4-database-network-172230024","title":"4. Database Network (<code>172.23.0.0/24</code>)","text":"<ul> <li>Purpose: Data persistence and cache layer</li> <li>Services: PostgreSQL Primary/Secondary, Redis Cache, Service clients</li> <li>Security: Very High - sensitive data access</li> <li>Characteristics: Restricted access, database-specific</li> </ul>"},{"location":"007-Networks/#5-messaging-network-172240024","title":"5. Messaging Network (<code>172.24.0.0/24</code>)","text":"<ul> <li>Purpose: Asynchronous communication and event streaming</li> <li>Services: RabbitMQ, Order Service, Notification Service</li> <li>Security: High - event-driven architecture</li> <li>Characteristics: Message queue isolation</li> </ul>"},{"location":"007-Networks/#6-external-network-172250024","title":"6. External Network (<code>172.25.0.0/24</code>)","text":"<ul> <li>Purpose: Third-party services and external APIs</li> <li>Services: MailHog (SMTP), Notification Service</li> <li>Security: Variable - external service simulation</li> <li>Characteristics: ICC disabled for security</li> </ul>"},{"location":"007-Networks/#7-dmz-network-172260024","title":"7. DMZ Network (<code>172.26.0.0/24</code>)","text":"<ul> <li>Purpose: Demilitarized zone for public access</li> <li>Services: Nginx Proxy, Grafana Dashboard</li> <li>Security: Medium - public-facing with restrictions</li> <li>Characteristics: Controlled public access</li> </ul>"},{"location":"007-Networks/#8-monitoring-network-172270024","title":"8. Monitoring Network (<code>172.27.0.0/24</code>)","text":"<ul> <li>Purpose: Observability and monitoring services</li> <li>Services: Prometheus, Grafana</li> <li>Security: Medium - monitoring and metrics</li> <li>Characteristics: Cross-network access for metrics collection</li> </ul>"},{"location":"007-Networks/#service-architecture","title":"Service Architecture","text":""},{"location":"007-Networks/#frontend-tier","title":"Frontend Tier","text":"<ul> <li>Nginx: Reverse proxy and load balancer</li> <li>Web Application: User interface and frontend logic</li> <li>Redis Session: Session management and user state</li> </ul>"},{"location":"007-Networks/#api-layer","title":"API Layer","text":"<ul> <li>API Gateway: Central routing and service discovery</li> <li>Request routing: Intelligent traffic distribution</li> <li>Authentication: Centralized security enforcement</li> </ul>"},{"location":"007-Networks/#microservices-tier","title":"Microservices Tier","text":"<ul> <li>User Service: User management and authentication</li> <li>Order Service: Order processing and business logic</li> <li>Notification Service: Email and messaging system</li> </ul>"},{"location":"007-Networks/#data-tier","title":"Data Tier","text":"<ul> <li>PostgreSQL Primary: Main application database</li> <li>PostgreSQL Secondary: Orders and analytics database</li> <li>Redis Cache: Application-level caching</li> </ul>"},{"location":"007-Networks/#infrastructure-services","title":"Infrastructure Services","text":"<ul> <li>RabbitMQ: Message queue and event streaming</li> <li>MailHog: SMTP server simulation</li> <li>Prometheus: Metrics collection and monitoring</li> <li>Grafana: Visualization and dashboards</li> </ul>"},{"location":"007-Networks/#network-security-features","title":"Network Security Features","text":""},{"location":"007-Networks/#isolation-strategies","title":"Isolation Strategies","text":"<ul> <li>Network Segmentation: Services grouped by function and security requirements</li> <li>Least Privilege: Services only access required networks</li> <li>DMZ Implementation: Public services isolated from internal infrastructure</li> </ul>"},{"location":"007-Networks/#security-configurations","title":"Security Configurations","text":"<pre><code># Example: High-security database network\ndatabase_network:\n  driver: bridge\n  driver_opts:\n    com.docker.network.bridge.enable_icc: \"true\"\n  labels:\n    - \"network.security=high\"\n    - \"network.description=Database and cache services\"\n</code></pre>"},{"location":"007-Networks/#access-control-patterns","title":"Access Control Patterns","text":"<ul> <li>Frontend \u2192 Backend: Web app accesses API gateway</li> <li>Backend \u2192 Services: API gateway routes to microservices</li> <li>Services \u2192 Database: Direct database access with specific credentials</li> <li>Cross-network: Monitoring services access multiple networks</li> </ul>"},{"location":"007-Networks/#network-aliases-and-service-discovery","title":"Network Aliases and Service Discovery","text":""},{"location":"007-Networks/#service-discovery-examples","title":"Service Discovery Examples","text":"<pre><code># Multiple aliases for flexible service discovery\nnetworks:\n  frontend_network:\n    aliases:\n      - webapp\n      - frontend-service\n  backend_network:\n    aliases:\n      - web-client\n</code></pre>"},{"location":"007-Networks/#benefits-of-aliases","title":"Benefits of Aliases","text":"<ul> <li>Load Balancing: Multiple names for the same service</li> <li>Environment Flexibility: Different names for different contexts</li> <li>Migration Support: Old and new names during transitions</li> <li>Service Mesh: Consistent naming across networks</li> </ul>"},{"location":"007-Networks/#lab-exercises","title":"Lab Exercises","text":""},{"location":"007-Networks/#exercise-1-network-inspection","title":"Exercise 1: Network Inspection","text":"<pre><code># List all networks\ndocker network ls\n\n# Inspect a specific network\ndocker network inspect 007-networks_frontend_network\n\n# Check service connectivity\ndocker exec nginx ping web-app\ndocker exec web-app ping api-gateway\n</code></pre>"},{"location":"007-Networks/#exercise-2-service-communication-testing","title":"Exercise 2: Service Communication Testing","text":"<pre><code># Test cross-network communication\ndocker exec api-gateway curl http://user-service:8001/health\ndocker exec user-service pg_isready -h postgres-primary -p 5432\n\n# Test network isolation\ndocker exec nginx ping postgres-primary  # Should fail\ndocker exec web-app ping redis-cache     # Should fail\n</code></pre>"},{"location":"007-Networks/#exercise-3-network-security-validation","title":"Exercise 3: Network Security Validation","text":"<pre><code># Check network isolation\ndocker exec user-service nslookup postgres-secondary  # Should fail\ndocker exec order-service nslookup redis-session      # Should fail\n\n# Verify correct access\ndocker exec user-service nslookup postgres-primary    # Should work\ndocker exec order-service nslookup postgres-secondary # Should work\n</code></pre>"},{"location":"007-Networks/#exercise-4-monitoring-network-traffic","title":"Exercise 4: Monitoring Network Traffic","text":"<pre><code># Monitor network activity\ndocker exec prometheus wget -qO- http://grafana:3000/api/health\ndocker exec grafana curl -s http://prometheus:9090/api/v1/targets\n\n# Check cross-network metrics collection\ndocker logs prometheus | grep \"scrape\"\n</code></pre>"},{"location":"007-Networks/#usage-instructions","title":"Usage Instructions","text":""},{"location":"007-Networks/#starting-the-application","title":"Starting the Application","text":"<pre><code># Start all services\ndocker-compose up -d\n\n# Start specific tiers\ndocker-compose up -d nginx web-app api-gateway\ndocker-compose up -d postgres-primary postgres-secondary redis-cache\n</code></pre>"},{"location":"007-Networks/#monitoring-network-health","title":"Monitoring Network Health","text":"<pre><code># Check service status\ndocker-compose ps\n\n# View network connectivity\ndocker-compose exec nginx wget -qO- http://web-app:3000/health\ndocker-compose exec api-gateway curl http://user-service:8001/api/status\n</code></pre>"},{"location":"007-Networks/#accessing-services","title":"Accessing Services","text":"<ul> <li>Web Application: http://localhost (via Nginx)</li> <li>Grafana Dashboard: http://localhost:3000</li> <li>Prometheus Metrics: http://localhost:9090</li> <li>RabbitMQ Management: http://localhost:15672</li> <li>MailHog Web UI: http://localhost:8025</li> </ul>"},{"location":"007-Networks/#network-configuration-details","title":"Network Configuration Details","text":""},{"location":"007-Networks/#ipam-ip-address-management","title":"IPAM (IP Address Management)","text":"<p>Each network uses a dedicated subnet:</p> <ul> <li>Frontend: <code>172.20.0.0/24</code> (254 addresses)</li> <li>Backend: <code>172.21.0.0/24</code> (254 addresses)</li> <li>Services: <code>172.22.0.0/24</code> (254 addresses)</li> <li>Database: <code>172.23.0.0/24</code> (254 addresses)</li> <li>Messaging: <code>172.24.0.0/24</code> (254 addresses)</li> <li>External: <code>172.25.0.0/24</code> (254 addresses)</li> <li>DMZ: <code>172.26.0.0/24</code> (254 addresses)</li> <li>Monitoring: <code>172.27.0.0/24</code> (254 addresses)</li> </ul>"},{"location":"007-Networks/#bridge-network-options","title":"Bridge Network Options","text":"<pre><code>driver_opts:\n  com.docker.network.bridge.name: \"custom-bridge-name\"\n  com.docker.network.bridge.enable_icc: \"true\"\n  com.docker.network.bridge.enable_ip_masquerade: \"true\"\n</code></pre>"},{"location":"007-Networks/#network-labels","title":"Network Labels","text":"<pre><code>labels:\n  - \"network.description=Purpose and usage description\"\n  - \"network.environment=production\"\n  - \"network.security=high|medium|low\"\n</code></pre>"},{"location":"007-Networks/#troubleshooting","title":"Troubleshooting","text":""},{"location":"007-Networks/#common-network-issues","title":"Common Network Issues","text":"<ol> <li>Service Discovery Failures: Check network aliases and DNS resolution</li> <li>Connection Timeouts: Verify services are on the same network</li> <li>Port Conflicts: Ensure unique port mappings</li> <li>Network Isolation: Confirm intended network segmentation</li> </ol>"},{"location":"007-Networks/#debugging-commands","title":"Debugging Commands","text":"<pre><code># Network connectivity\ndocker exec [container] ping [target]\ndocker exec [container] nslookup [service-name]\ndocker exec [container] netstat -rn\n\n# Network inspection\ndocker network inspect [network-name]\ndocker network ls --filter driver=bridge\ndocker inspect [container] | grep NetworkMode\n</code></pre>"},{"location":"007-Networks/#health-checks","title":"Health Checks","text":"<pre><code># Service health verification\ncurl -f http://localhost/health || echo \"Frontend down\"\ncurl -f http://localhost:3000/api/health || echo \"Grafana down\"\ncurl -f http://localhost:9090/-/healthy || echo \"Prometheus down\"\n</code></pre>"},{"location":"007-Networks/#best-practices","title":"Best Practices","text":""},{"location":"007-Networks/#network-design","title":"Network Design","text":"<ul> <li>Principle of Least Privilege: Only connect services to necessary networks</li> <li>Defense in Depth: Multiple layers of network security</li> <li>Service Segmentation: Group services by function and security requirements</li> <li>Monitoring Integration: Ensure observability across all networks</li> </ul>"},{"location":"007-Networks/#security-considerations","title":"Security Considerations","text":"<ul> <li>Network Isolation: Prevent unauthorized cross-network communication</li> <li>Service Discovery: Use meaningful aliases for better organization</li> <li>Access Control: Implement proper authentication and authorization</li> <li>Audit Logging: Monitor and log network access patterns</li> </ul>"},{"location":"007-Networks/#performance-optimization","title":"Performance Optimization","text":"<ul> <li>Network Locality: Place frequently communicating services on the same network</li> <li>Load Distribution: Use multiple networks to distribute traffic</li> <li>Resource Allocation: Monitor network utilization and adjust as needed</li> <li>Connection Pooling: Implement efficient connection management</li> </ul>"},{"location":"007-Networks/#learning-outcomes","title":"Learning Outcomes","text":"<p>After completing this lab, you will understand:</p> <ul> <li>Multi-network Architecture: Design and implement complex network topologies</li> <li>Network Segmentation: Apply security principles through network isolation</li> <li>Service Discovery: Configure and use network aliases effectively</li> <li>Cross-network Communication: Manage service interactions across networks</li> <li>Security Boundaries: Implement DMZ and security zones</li> <li>Monitoring Integration: Set up observability across network segments</li> <li>Troubleshooting Networks: Diagnose and resolve network connectivity issues</li> <li>Production Patterns: Apply enterprise-grade networking practices</li> </ul>"},{"location":"007-Networks/#advanced-topics","title":"Advanced Topics","text":""},{"location":"007-Networks/#external-networks","title":"External Networks","text":"<pre><code># Create external network\ndocker network create --driver bridge production-shared\n\n# Reference in compose file\nnetworks:\n  shared_network:\n    external: true\n    name: production-shared\n</code></pre>"},{"location":"007-Networks/#network-plugins","title":"Network Plugins","text":"<ul> <li>Overlay Networks: Multi-host networking</li> <li>Macvlan Networks: Direct host network access</li> <li>Custom Drivers: Third-party network solutions</li> </ul>"},{"location":"007-Networks/#container-to-container-communication","title":"Container-to-Container Communication","text":"<ul> <li>Direct IP Access: Using container IP addresses</li> <li>Service Names: DNS-based service discovery</li> <li>Network Aliases: Multiple names for the same service</li> <li>Load Balancing: Built-in round-robin DNS</li> </ul>"},{"location":"007-Networks/#navigation","title":"Navigation","text":"<p>\u2190 Previous: 006-Watch | Next: (End of Labs) \u2192</p>"}]}